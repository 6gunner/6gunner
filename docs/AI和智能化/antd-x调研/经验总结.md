# 一些经验总结



## 1、如何让buber.list自动滚动到屏幕最下面? 以便能看到最新的消息



思路：给BuberList上一个ID，然后在request方法里去通过id拿到dom。这里主要就是为了能拿到BubberList对应的dom，方便操作

```tsx
<Flex
    gap={16}
    vertical
    style={{
      display: 'flex',
      flexDirection: 'column',
      height: '100%',
      justifyContent: 'space-between',
    }}
  >
    <Bubble.List
      id="message-list" // 赋上ID
      roles={roles}
      items={messages.map((message) => ({
        key: message.id,
        content: message.message,
        role: message.status === 'local' ? 'local' : 'ai',
      }))}
    />
    <Sender
      loading={agent.isRequesting()}
      value={inputValue}
      onChange={setInputValue}
      onSubmit={handleSend}
    />
</Flex>
```

在request方法里，当用户发送消息的时候，将这个List滚动到最底部：

```tsx
request: async ({ message }, { onUpdate, onSuccess, onError }) => {
    const dom = document.getElementById('message-list');
    requestAnimationFrame(() => {
      dom.scrollTop = dom.scrollHeight;
    });
    // 剩下的就是处理message的逻辑，这里省略了...
  }
});
```

